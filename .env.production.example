# üîê PRODUCTION SECURITY ENVIRONMENT VARIABLES
# Copy this file to .env.production and fill in the values

# ==============================================
# SECURITY CONFIGURATION
# ==============================================

# JWT Configuration (CRITICAL: Generate strong secret)
JWT_SECRET=your_super_secure_jwt_secret_minimum_256_bits_abcdef123456789
JWT_EXPIRE=7d

# Database Configuration (Use strong credentials)
MONGODB_URI=mongodb+srv://username:strong_password@cluster.mongodb.net/sendroli_factory_prod

# Application Configuration
NODE_ENV=production
PORT=5000

# CORS Configuration (Production frontend URL)
FRONTEND_URL=https://your-production-domain.com

# ==============================================
# RATE LIMITING CONFIGURATION
# ==============================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Auth-specific rate limits
AUTH_RATE_LIMIT_MAX=5
AUTH_RATE_LIMIT_WINDOW=900000

# Admin rate limits
ADMIN_RATE_LIMIT_MAX=10
ADMIN_RATE_LIMIT_WINDOW=60000

# ==============================================
# SECURITY HEADERS CONFIGURATION
# ==============================================

# HSTS Configuration
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# CSP Configuration
CSP_REPORT_URI=https://your-csp-report-endpoint.com/report
CSP_REPORT_ONLY=false

# ==============================================
# LOGGING AND MONITORING
# ==============================================

# Security Logging
SECURITY_LOG_LEVEL=info
AUDIT_LOG_ENABLED=true

# Log destinations (production should use proper logging service)
LOG_FILE_PATH=/var/log/sendroli/security.log
LOG_ROTATE_ENABLED=true

# ==============================================
# DATABASE SECURITY
# ==============================================

# Connection pool settings
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=2
DB_CONNECTION_TIMEOUT=30000

# ==============================================
# APPLICATION SECURITY
# ==============================================

# Request size limits
MAX_REQUEST_SIZE=10mb
MAX_FILE_SIZE=5mb

# Session configuration
SESSION_TIMEOUT=3600000
REFRESH_TOKEN_EXPIRE=30d

# ==============================================
# PRODUCTION DEPLOYMENT NOTES
# ==============================================

# 1. Generate a strong JWT secret:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 2. Use environment variable injection for secrets (Docker secrets, K8s secrets, etc.)
#
# 3. Enable HTTPS and configure reverse proxy (nginx, cloudflare)
#
# 4. Set up proper logging and monitoring
#
# 5. Configure database with authentication and encryption
#
# 6. Use a secrets management service for sensitive values
#
# 7. Regular security updates and dependency monitoring
#
# 8. Backup and disaster recovery procedures